<?php // <- Don't add me in
// Gist updated to use code from Genesis Framework 2.4.2
//remove initial header functions
remove_action( 'genesis_header', 'genesis_header_markup_open', 5 );
remove_action( 'genesis_header', 'genesis_header_markup_close', 15 );
remove_action( 'genesis_header', 'genesis_do_header' );
//add in the new header markup - prefix the function name - here sm_ is used
add_action( 'genesis_header', 'sm_genesis_header_markup_open', 5 );
add_action( 'genesis_header', 'sm_genesis_header_markup_close', 15 );
add_action( 'genesis_header', 'sm_genesis_do_header' );

//New Header functions
function sm_genesis_header_markup_open() {
 genesis_markup( array(
 'html5' => '<header %s>',
 'context' => 'site-header',
 ) );
 /* Added in content
 echo '<div class="header-ghost"></div>';
 */
 genesis_structural_wrap( 'header' );
}
function sm_genesis_header_markup_close() {
 genesis_structural_wrap( 'header', 'close' );
 genesis_markup( array(
 'close' => '</header>',
 'context' => 'site-header',
 ) );
}

function sm_genesis_do_header() {
 global $wp_registered_sidebars;
 genesis_markup( array(
 'open' => '<div %s>',
 'context' => 'title-area',
 ) );
 // Added in content
 echo '<div class="site-id">
 		<a class="site-logo" href="' . esc_url( home_url( '/' ) ) . '">

      <svg id="logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 69.57">
        <title>monovoce - future friendly design</title>
        <g id="promise">
          <path d="M110,60.56h6.74V62h-5.16v2.5h4.58v1.44h-4.58v3.69H110Z" transform="translate(0 -0.21)"/>
          <path d="M122.21,69.77a4.75,4.75,0,0,1-1.6-.25,3.27,3.27,0,0,1-1.22-.76,3.35,3.35,0,0,1-.77-1.25,5,5,0,0,1-.28-1.73V60.56h1.59v5.16a2.74,2.74,0,0,0,.61,1.93,2.19,2.19,0,0,0,1.69.66,2.22,2.22,0,0,0,1.69-.64,2.65,2.65,0,0,0,.61-1.89V60.56h1.58V65.7a5.08,5.08,0,0,1-.28,1.78,3.5,3.5,0,0,1-.78,1.28,3.23,3.23,0,0,1-1.23.76A4.81,4.81,0,0,1,122.21,69.77Z" transform="translate(0 -0.21)"/>
          <path d="M130.53,62h-2.88V60.56H135V62h-2.88v7.6h-1.61Z" transform="translate(0 -0.21)"/>
          <path d="M140.42,69.77a4.7,4.7,0,0,1-1.59-.25,3.19,3.19,0,0,1-1.22-.76,3.25,3.25,0,0,1-.78-1.25,5,5,0,0,1-.27-1.73V60.56h1.58v5.16a2.79,2.79,0,0,0,.61,1.93,2.52,2.52,0,0,0,3.38,0,2.6,2.6,0,0,0,.61-1.89V60.56h1.59V65.7a5.32,5.32,0,0,1-.28,1.78,3.51,3.51,0,0,1-.79,1.28,3.12,3.12,0,0,1-1.22.76A4.83,4.83,0,0,1,140.42,69.77Z" transform="translate(0 -0.21)"/>
          <path d="M146.52,60.56h4a4.45,4.45,0,0,1,1.52.24,3.08,3.08,0,0,1,1.1.66,2.76,2.76,0,0,1,.56.87,2.94,2.94,0,0,1,.19,1.09v0a2.87,2.87,0,0,1-.16,1,2.66,2.66,0,0,1-.45.79,2.59,2.59,0,0,1-.68.59,3.4,3.4,0,0,1-.87.37l2.45,3.43h-1.88l-2.24-3.16h-2v3.16h-1.58Zm3.92,4.5a2.1,2.1,0,0,0,1.36-.41,1.37,1.37,0,0,0,.51-1.12v0a1.34,1.34,0,0,0-.49-1.13,2.21,2.21,0,0,0-1.39-.38H148.1v3.06Z" transform="translate(0 -0.21)"/>
          <path d="M155.89,60.56h6.71V62h-5.13v2.33H162v1.44h-4.55v2.42h5.2v1.44h-6.78Z" transform="translate(0 -0.21)"/>
          <path d="M168.46,60.56h6.75V62h-5.16v2.5h4.57v1.44h-4.57v3.69h-1.59Z" transform="translate(0 -0.21)"/>
          <path d="M177,60.56h4a4.45,4.45,0,0,1,1.52.24,3.08,3.08,0,0,1,1.1.66,2.76,2.76,0,0,1,.56.87,2.94,2.94,0,0,1,.19,1.09v0a2.87,2.87,0,0,1-.16,1,2.56,2.56,0,0,1-1.13,1.38,3.4,3.4,0,0,1-.87.37l2.45,3.43h-1.88l-2.24-3.16h-2v3.16H177Zm3.92,4.5a2.15,2.15,0,0,0,1.37-.41,1.39,1.39,0,0,0,.5-1.12v0a1.34,1.34,0,0,0-.49-1.13,2.19,2.19,0,0,0-1.39-.38h-2.33v3.06Z" transform="translate(0 -0.21)"/>
          <path d="M186.43,60.56H188v9.07h-1.59Z" transform="translate(0 -0.21)"/>
          <path d="M190.45,60.56h6.72V62H192v2.33h4.55v1.44H192v2.42h5.2v1.44h-6.78Z" transform="translate(0 -0.21)"/>
          <path d="M199.14,60.56h1.47l4.85,6.27V60.56h1.59v9.07h-1.34l-5-6.45v6.45h-1.58Z" transform="translate(0 -0.21)"/>
          <path d="M209.38,60.56h3.38a5.33,5.33,0,0,1,2,.34,4.56,4.56,0,0,1,1.53,1,4.39,4.39,0,0,1,1,1.44,4.52,4.52,0,0,1,.35,1.78v0a4.61,4.61,0,0,1-.35,1.79,4.19,4.19,0,0,1-1,1.44,4.43,4.43,0,0,1-1.53,1,5.13,5.13,0,0,1-2,.35h-3.38Zm3.37,7.63a3.58,3.58,0,0,0,1.3-.22,2.77,2.77,0,0,0,1.62-1.62,3.32,3.32,0,0,0,.23-1.23v0a3.32,3.32,0,0,0-.23-1.23,2.76,2.76,0,0,0-1.62-1.63,3.38,3.38,0,0,0-1.3-.23H211v6.19Z" transform="translate(0 -0.21)"/>
          <path d="M219.52,60.56h1.58v7.63h4.77v1.44h-6.35Z" transform="translate(0 -0.21)"/>
          <path d="M230.21,66.05l-3.6-5.49h1.88l2.54,4,2.57-4h1.82L231.82,66v3.62h-1.61Z" transform="translate(0 -0.21)"/>
          <path d="M240.71,60.56h3.39a5.33,5.33,0,0,1,2,.34,4.77,4.77,0,0,1,1.53,1,4.22,4.22,0,0,1,1,1.44,4.52,4.52,0,0,1,.35,1.78v0a4.61,4.61,0,0,1-.35,1.79,4,4,0,0,1-1,1.44,4.62,4.62,0,0,1-1.53,1,5.13,5.13,0,0,1-2,.35h-3.39Zm3.37,7.63a3.58,3.58,0,0,0,1.3-.22A2.83,2.83,0,0,0,247,66.35a3.32,3.32,0,0,0,.22-1.23v0a3.32,3.32,0,0,0-.22-1.23,3,3,0,0,0-.64-1,3,3,0,0,0-1-.64,3.38,3.38,0,0,0-1.3-.23H242.3v6.19Z" transform="translate(0 -0.21)"/>
          <path d="M250.85,60.56h6.72V62h-5.14v2.33H257v1.44h-4.55v2.42h5.2v1.44h-6.78Z" transform="translate(0 -0.21)"/>
          <path d="M262.73,69.76a5.68,5.68,0,0,1-2-.36,5.45,5.45,0,0,1-1.78-1.09l1-1.14a5.46,5.46,0,0,0,1.34.87,3.58,3.58,0,0,0,1.53.31,2,2,0,0,0,1.17-.31,1,1,0,0,0,.43-.83v0a1,1,0,0,0-.08-.43.94.94,0,0,0-.31-.36,2.3,2.3,0,0,0-.63-.31,8.18,8.18,0,0,0-1-.29,10.05,10.05,0,0,1-1.29-.38,3.17,3.17,0,0,1-.95-.52,2,2,0,0,1-.59-.74,2.64,2.64,0,0,1-.2-1.06v0a2.43,2.43,0,0,1,.87-1.9,2.94,2.94,0,0,1,1-.54,3.86,3.86,0,0,1,1.25-.19,5.06,5.06,0,0,1,1.79.29,5.22,5.22,0,0,1,1.5.85l-.85,1.2a5.73,5.73,0,0,0-1.24-.69,3.28,3.28,0,0,0-1.23-.24,1.68,1.68,0,0,0-1.09.31,1,1,0,0,0-.39.77v0a1,1,0,0,0,.1.46.88.88,0,0,0,.33.37,3,3,0,0,0,.66.3c.28.1.64.19,1.07.3a9.57,9.57,0,0,1,1.27.4,3.18,3.18,0,0,1,.91.54,2.11,2.11,0,0,1,.56.74,2.45,2.45,0,0,1,.19,1v0a2.58,2.58,0,0,1-.24,1.14,2.45,2.45,0,0,1-.66.86,3.09,3.09,0,0,1-1,.53A4.56,4.56,0,0,1,262.73,69.76Z" transform="translate(0 -0.21)"/>
          <path d="M267.93,60.56h1.58v9.07h-1.58Z" transform="translate(0 -0.21)"/>
          <path d="M276.25,69.79a5,5,0,0,1-1.93-.36,4.55,4.55,0,0,1-1.49-1,4.42,4.42,0,0,1-.95-1.48,5.07,5.07,0,0,1-.34-1.85v0a4.77,4.77,0,0,1,.35-1.8,4.56,4.56,0,0,1,1-1.5,4.84,4.84,0,0,1,1.49-1,4.66,4.66,0,0,1,1.89-.38,6,6,0,0,1,1.08.09,4.25,4.25,0,0,1,.9.24,4,4,0,0,1,.78.38,5,5,0,0,1,.72.52l-1,1.21a4.91,4.91,0,0,0-.53-.4,3.15,3.15,0,0,0-.57-.31,3.27,3.27,0,0,0-.65-.19,3.87,3.87,0,0,0-.79-.07,2.56,2.56,0,0,0-1.16.26,2.9,2.9,0,0,0-.93.69,3.1,3.1,0,0,0-.62,1,3.22,3.22,0,0,0-.23,1.24v0a3.66,3.66,0,0,0,.22,1.3,2.88,2.88,0,0,0,1.6,1.7,3,3,0,0,0,1.26.25,4,4,0,0,0,1.21-.19,3.41,3.41,0,0,0,1-.5V66h-2.32V64.56H280v3.81a6.18,6.18,0,0,1-.74.55,6.06,6.06,0,0,1-.88.45,6.38,6.38,0,0,1-1,.31A6,6,0,0,1,276.25,69.79Z" transform="translate(0 -0.21)"/>
          <path d="M282.11,60.56h1.47l4.86,6.27V60.56H290v9.07h-1.33l-5-6.45v6.45h-1.58Z" transform="translate(0 -0.21)"/>
        </g>
        <g id="logotype">
          <path id="e" d="M387.82,33a12.4,12.4,0,0,1-21.33-4.8h33.2a31.61,31.61,0,0,0,.31-4.42c0-14-8.68-23.52-21.65-23.52s-21.64,9.57-21.64,23.52,8.68,23.52,21.64,23.52c6.91,0,12.61-2.71,16.42-7.35Zm-9.47-22.73a11.72,11.72,0,0,1,11.71,8.57H366.65A11.74,11.74,0,0,1,378.35,10.22Z" transform="translate(0 -0.21)"/>
          <path id="c" d="M345.08,33a11.79,11.79,0,0,1-9.45,4.28c-7.45,0-12.44-5.5-12.44-13.51s5-13.51,12.44-13.51A11.81,11.81,0,0,1,345,14.37l6.95-6.95c-3.81-4.55-9.46-7.21-16.3-7.21C322.66.21,314,9.78,314,23.73s8.68,23.52,21.64,23.52c6.91,0,12.6-2.7,16.41-7.34Z" transform="translate(0 -0.21)"/>
          <path id="o" d="M285.73.21c-13,0-21.64,9.57-21.64,23.52s8.68,23.52,21.64,23.52,21.65-9.53,21.65-23.52S298.7.21,285.73.21Zm0,37c-7.45,0-12.44-5.5-12.44-13.51s5-13.51,12.44-13.51,12.43,5.47,12.43,13.51S293.19,37.24,285.74,37.24Z" transform="translate(0 -0.21)"/>
          <path id="v" d="M252.06.27l-9.17,34.24-.11.4a3.17,3.17,0,0,1-6.15,0l-.11-.4L227.34.27h-9.68L227.51,37a12.38,12.38,0,0,0,24.39,0L261.75.27Z" transform="translate(0 -0.21)"/>
          <path id="o-2" data-name="o" d="M193.14.21c-13,0-21.64,9.57-21.64,23.52s8.68,23.52,21.64,23.52,21.65-9.53,21.65-23.52S206.11.21,193.14.21Zm0,37c-7.45,0-12.43-5.5-12.43-13.51s5-13.51,12.43-13.51,12.44,5.47,12.44,13.51S200.59,37.24,193.14,37.24Z" transform="translate(0 -0.21)"/>
          <path id="n" d="M134.86,47.25v-28h0c0-5.46,5-8.9,9.87-8.9s9.88,3.39,9.88,8.91h0v28H164V18.3h0C164,7.55,154.32,1,144.74,1s-19.22,6.71-19.22,17.34h0v29Z" transform="translate(0 -0.21)"/>
          <path id="o-3" data-name="o" d="M96.37.21c-13,0-21.65,9.57-21.65,23.52S83.4,47.25,96.37,47.25,118,37.72,118,23.73,109.34.21,96.37.21Zm0,37c-7.45,0-12.44-5.5-12.44-13.51s5-13.51,12.44-13.51,12.43,5.47,12.43,13.51S103.82,37.24,96.37,37.24Z" transform="translate(0 -0.21)"/>
          <path id="m" d="M48.35,1A20.58,20.58,0,0,0,33.82,6.86,20.63,20.63,0,0,0,19.24,1C9.67,1,0,7.66,0,18.29H0v29H9.36v-28h0c0-5.46,5-8.9,9.87-8.9s9.81,3.35,9.87,8.8V47.25h9.36v-28h0c0-5.46,5-8.9,9.87-8.9s9.88,3.39,9.88,8.91h0v28h9.35V18.3h0C67.59,7.55,57.93,1,48.35,1Z" transform="translate(0 -0.21)"/>
        </g>
      </svg>

 	  </a>';
 do_action( 'genesis_site_title' );
 do_action( 'genesis_site_description' );
 
 genesis_markup( array(
 'close' => '</div></div>',
 'context' => 'title-area',
 ) );
 if ( ( isset( $wp_registered_sidebars['header-right'] ) && is_active_sidebar( 'header-right' ) ) || has_action( 'genesis_header_right' ) ) {
 genesis_markup( array(
 'open' => '<div %s>' . genesis_sidebar_title( 'header-right' ),
 'context' => 'header-widget-area',
 ) );
 do_action( 'genesis_header_right' );
 add_filter( 'wp_nav_menu_args', 'genesis_header_menu_args' );
 add_filter( 'wp_nav_menu', 'genesis_header_menu_wrap' );
 dynamic_sidebar( 'header-right' );
 remove_filter( 'wp_nav_menu_args', 'genesis_header_menu_args' );
 remove_filter( 'wp_nav_menu', 'genesis_header_menu_wrap' );
 genesis_markup( array(
 'close' => '</div>',
 'context' => 'header-widget-area',
 ) );
 }
}